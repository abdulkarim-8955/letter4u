<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mahnoor Aisha - My Eternal Love ğŸ’–</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            touch-action: manipulation;
        }

        body {
            background: #ffe6f2;
            min-height: 100vh;
            font-family: 'Arial', sans-serif;
            overflow-x: hidden;
        }

        /* Envelope Styles */
        .envelope-wrapper {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
            transition: all 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        .envelope {
            width: 280px;
            height: 180px;
            background: #ff4d79;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .envelope:before {
            content: '';
            position: absolute;
            top: -90px;
            left: 0;
            border-right: 140px solid transparent;
            border-left: 140px solid transparent;
            border-bottom: 90px solid #ff1a4d;
        }

        .envelope:after {
            content: 'ğŸ’Œ Click to Open';
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 1.2em;
        }

        /* Letter Container */
        .letter-container {
            max-width: 95%;
            margin: 20px auto;
            padding: 25px;
            background: #fff5f9;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(255,77,121,0.2);
            opacity: 0;
            transform: scale(0);
            transition: all 0.8s ease-out;
            position: relative;
            overflow: hidden;
        }

        .letter-visible {
            opacity: 1;
            transform: scale(1);
        }

        /* Improved Games Section */
        .game-box {
            background: linear-gradient(45deg, #ff99cc, #ff6699);
            padding: 20px;
            border-radius: 15px;
            margin: 25px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* Heart Collector Game */
        .heart-collector {
            text-align: center;
            padding: 15px;
        }

        #heartBtn {
            transition: transform 0.2s, filter 0.2s;
            width: 80px;
            height: 80px;
            border: none;
            background: none;
            cursor: pointer;
        }

        #heartBtn:active {
            transform: scale(1.2);
        }

        /* Memory Game Improvements */
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .memory-card {
            aspect-ratio: 1;
            background: #fff;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            position: relative;
        }

        .memory-card.flipped {
            transform: rotateY(180deg);
        }

        .memory-card .front,
        .memory-card .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
        }

        .memory-card .back {
            background: #ff3366;
            transform: rotateY(180deg);
            color: white;
        }

        /* Urdu Poetry Styling */
        .urdu-poetry {
            font-family: 'Noto Nastaliq Urdu', serif;
            font-size: 1.4em;
            color: #660033;
            margin: 25px 0;
            text-align: right;
            line-height: 1.8;
            padding: 15px;
            background: rgba(255,204,229,0.3);
            border-radius: 10px;
        }

        /* Mobile Optimization */
        @media (max-width: 768px) {
            .envelope {
                width: 200px;
                height: 130px;
            }

            .envelope:before {
                top: -60px;
                border-right: 100px solid transparent;
                border-left: 100px solid transparent;
                border-bottom: 60px solid #ff1a4d;
            }

            .letter-container {
                padding: 15px;
            }

            .memory-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="envelope-wrapper" onclick="openEnvelope(event)">
        <div class="envelope"></div>
    </div>

    <div class="letter-container">
        <h1 style="text-align:center; color:#ff1a4d; font-family: 'Great Vibes'; font-size: 2.5em;">
            My Beloved Mahnoor Aisha ğŸŒ¹
        </h1>

        <div class="urdu-poetry">
            ØªÛŒØ±ÛŒ ÛØ± Ø¨Ø§Øª Ù…ÛŒÚº ÛÛ’ Ù…ÛŒØ±ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ Ú©Ø§ Ø³Ú©ÙˆÙ†<br>
            ØªÛŒØ±Û’ Ø¨ØºÛŒØ± ÛÙˆÚ¯ÛŒØ§ ÛÙˆÚº Ù…ÛŒÚº Ø§ÛŒÚ© Ø§Ø¯Ú¾ÙˆØ±Ø§ Ú¯ÛŒØª<br>
            Ù…ÛÙ†ÙˆØ± Ø¹Ø§ÛŒØ´Û Ù…ÛŒØ±ÛŒ Ù…Ø­Ø¨Øª ÛÛ’ Ø¨Û’ Ù…Ø«Ø§Ù„<br>
            ØªÛŒØ±Û’ Ù„ÛŒÛ’ ÛÛŒÚº Ù…ÛŒØ±Û’ Ø¯Ù„ Ú©Û’ ØªÙ…Ø§Ù… Ø§Ø±Ù…Ø§Ù†
        </div>

        <!-- Interactive Games Section -->
        <div class="game-box">
            <h3 style="color:#ff1a4d; text-align:center; margin-bottom:15px;">Our Love Games ğŸ’</h3>

            <!-- Heart Collector Game -->
            <div class="heart-collector">
                <button id="heartBtn" onclick="collectHearts()">â¤ï¸</button>
                <p style="margin-top:10px; color:#ff1a4d;">
                    Love Collected: <span id="loveCount">0</span>
                </p>
            </div>

            <!-- Memory Game -->
            <div class="memory-grid" id="memoryGame"></div>
        </div>
    </div>

    <script>
        // Envelope Opening Logic
        let envelopeOpened = false;
        function openEnvelope(e) {
            if(envelopeOpened) return;
            envelopeOpened = true;
            
            const envelope = document.querySelector('.envelope-wrapper');
            envelope.style.transform = 'translate(-50%, -200vh) rotate(360deg)';
            envelope.style.opacity = '0';
            
            document.querySelector('.letter-container').classList.add('letter-visible');
            startConfetti();
        }

        // Heart Collector Game
        let loveCount = 0;
        function collectHearts() {
            loveCount++;
            document.getElementById('loveCount').textContent = loveCount;
            
            // Heart animation
            const btn = document.getElementById('heartBtn');
            btn.style.transform = 'scale(1.3)';
            setTimeout(() => btn.style.transform = 'scale(1)', 200);
            
            // Create floating hearts
            for(let i=0; i<3; i++) {
                const heart = document.createElement('div');
                heart.style.position = 'fixed';
                heart.style.left = `${Math.random() * 100}%`;
                heart.style.top = `${Math.random() * 100}%`;
                heart.style.fontSize = `${20 + Math.random()*30}px`;
                heart.style.animation = `float ${2 + Math.random()*2}s ease-out`;
                heart.innerHTML = 'â¤ï¸';
                document.body.appendChild(heart);
                
                setTimeout(() => heart.remove(), 2000);
            }
        }

        // Memory Game Logic
        const symbols = ['â¤ï¸', 'ğŸŒ¹', 'ğŸ’', 'ğŸ', 'ğŸŒ¸', 'ğŸ’Œ'];
        const gameContainer = document.getElementById('memoryGame');
        let flippedCards = [];
        
        // Initialize game
        symbols.forEach(symbol => {
            for(let i=0; i<2; i++) {
                const card = document.createElement('div');
                card.className = 'memory-card';
                
                const front = document.createElement('div');
                front.className = 'front';
                front.textContent = '?';
                
                const back = document.createElement('div');
                back.className = 'back';
                back.textContent = symbol;
                
                card.appendChild(front);
                card.appendChild(back);
                card.addEventListener('click', () => flipCard(card));
                gameContainer.appendChild(card);
            }
        });

        // Shuffle cards
        Array.from(gameContainer.children).forEach(card => {
            card.style.order = Math.floor(Math.random() * 12);
        });

        function flipCard(card) {
            if(flippedCards.length < 2 && !card.classList.contains('flipped')) {
                card.classList.add('flipped');
                flippedCards.push(card);
                
                if(flippedCards.length === 2) {
                    setTimeout(checkMatch, 800);
                }
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            if(card1.querySelector('.back').textContent === card2.querySelector('.back').textContent) {
                card1.style.backgroundColor = '#99ff99';
                card2.style.backgroundColor = '#99ff99';
                createConfetti();
            } else {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
            }
            flippedCards = [];
        }

        // Confetti Effect
        function createConfetti() {
            for(let i=0; i<20; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'fixed';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = Math.random() * 100 + 'vh';
                confetti.style.fontSize = '20px';
                confetti.innerHTML = ['â¤ï¸', 'âœ¨', 'ğŸ‰'][Math.floor(Math.random()*3)];
                confetti.style.animation = `confettiFall ${1 + Math.random()*2}s linear`;
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 2000);
            }
        }

        // Add CSS Animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes float {
                0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
            }
            
            @keyframes confettiFall {
                0% { transform: translateY(-100vh) rotate(0deg); }
                100% { transform: translateY(100vh) rotate(720deg); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>